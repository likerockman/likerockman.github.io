<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>PowerRelief_CN - Portable Solar Inverter</title>
	<style>
		body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #f8f8f8; }
		header { background: #003366; color: white; padding: 20px; text-align: center; }
		h1 { margin: 0; font-size: 28px; }
		.container { padding: 20px; max-width: 800px; margin: auto; background: white; }
		.section { margin: 30px 0; }
		.button {
			display: inline-block;
			background: #0077cc;
			color: white;
			padding: 12px 24px;
			border-radius: 4px;
			text-decoration: none;
			font-weight: bold;
		}
		.contact-box {
			background: #eef;
			padding: 15px;
			border-radius: 8px;
			margin-top: 20px;
		}
		footer {
			text-align: center;
			color: #999;
			font-size: 13px;
			margin: 30px 0 10px 0;
		}

		/* 滑块样式 */
		.carousel {
			position: relative;
			width: 100%;
			overflow: hidden;
			border-radius: 8px;
			user-select: none;
			touch-action: pan-y pinch-zoom;
			cursor: grab;
		}
		.carousel-inner {
			display: flex;
			will-change: transform;
		}
		.carousel-item {
			flex: 0 0 100%;
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
		}
		.carousel-item img {
			width: 100%;
			max-height: 400px;
			object-fit: contain;
			border-radius: 8px;
			display: block;
			cursor: pointer;
		}
		.carousel.grabbing {
			cursor: grabbing;
		}

		/* 模态框样式 */
		.modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.8);
			z-index: 1000;
			justify-content: center;
			align-items: center;
		}
		.modal-content {
			max-width: 90%;
			max-height: 90vh;
			object-fit: contain;
			border-radius: 8px;
		}
		.modal-close {
			position: absolute;
			top: 20px;
			right: 20px;
			color: white;
			font-size: 30px;
			cursor: pointer;
			background: none;
			border: none;
		}
	</style>
</head>
<body>

<header>
	<h1>PowerRelief_CN</h1>
	<p>Portable Solar Inverter Kit for Emergency Power</p>
</header>

<div class="container">
	<div class="carousel" id="carousel">
		<div class="carousel-inner" id="carouselInner">
			<div class="carousel-item">
				<img src="images/product-photo1.jpg" alt="Portable Solar Inverter 1" />
			</div>
			<div class="carousel-item">
				<img src="images/product-photo2.jpg"詆
				<img src="images/product-photo3.jpg" alt="Portable Solar Inverter 3" />
			</div>
		</div>
	</div>

	<!-- 模态框 -->
	<div class="modal" id="modal">
		<button class="modal-close" onclick="closeModal()">×</button>
		<img class="modal-content" id="modalImage" src="" alt="Enlarged Image" />
	</div>

	<div class="section">
		<h2>🔋 Product Features</h2>
		<ul>
			<li>1000W / DC12V Input → AC220V Output</li>
			<li>Dual USB ports + Solar panel input (MC4)</li>
			<li>Waterproof design (IPX4), internal cooling fan</li>
			<li>Overload protection & charge indicator</li>
			<li>Ideal for phones, lights, and small appliances</li>
		</ul>
	</div>

	<div class="section">
		<h2>💰 Price</h2>
		<p><strong>$89 / unit</strong> – includes cable set. Solar panel optional.</p>
		<p>MOQ: 10 units | Sample available separately</p>
	</div>

	<div class="section">
		<h2>📥 PDF Quotation</h2>
		<a href="PowerRelief_Quotation.pdf" class="button" download>Download Quotation</a>
	</div>

	<div class="section contact-box">
		<h2>📩 Contact Us</h2>
		<p>Telegram: <a href="https://t.me/PowerRelief_CN" target="_blank">@PowerRel四大
			<p>Email: sales@powerrelief.cn</p>
	</div>

	<div class="section">
		<h2>🧑‍💬 What Our Customers Say</h2>
		<blockquote>
			“I received the unit in Kyiv and it works perfectly! Thank you PowerRelief 🇨🇳”
		</blockquote>
		<blockquote>
			“Great price, fast shipping, saved me during a blackout.”
		</blockquote>
	</div>
</div>

<footer>
	© 2025 PowerRelief_CN. All rights reserved.
</footer>

<script>
	const carousel = document.getElementById('carousel');
	const carouselInner = document.getElementById('carouselInner');
	const slides = document.querySelectorAll('.carousel-item');
	const totalSlides = slides.length;
	const modal = document.getElementById('modal');
	const modalImage = document.getElementById('modalImage');

	let isDragging = false;
	let startPos = 0;
	let currentTranslate = 0;
	let prevTranslate = 0;
	let currentSlide = 0;
	let velocity = 0;
	let lastPos = 0;
	let lastTime = 0;
	let movedDistance = 0; // 记录拖动距离

	// 滑动到指定图片
	function moveToSlide(index) {
		currentSlide = Math.max(0, Math.min(index, totalSlides - 1));
		currentTranslate = -currentSlide * carousel.clientWidth;
		prevTranslate = currentTranslate;
		carouselInner.style.transition = 'transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)';
		carouselInner.style.transform = `translateX(${currentTranslate}px)`;
	}

	// 设置滑块位置
	function setPosition() {
		carouselInner.style.transform = `translateX(${currentTranslate}px)`;
	}

	// 模态框显示与关闭
	function showModal(src) {
		modalImage.src = src;
		modal.style.display = 'flex';
	}

	function closeModal() {
		modal.style.display = 'none';
	}

	modal.addEventListener('click', (e) => {
		if (e.target === modal) {
			closeModal();
		}
	});

	// 阻止拖动时的点击事件
	function handleClick(e, src) {
		if (Math.abs(movedDistance) > 5) { // 拖动距离超过5像素认为是拖动
			e.stopPropagation();
			e.preventDefault();
			return;
		}
		showModal(src); // 仅在非拖动时显示模态框
	}

	// 为每张图片添加点击事件
	slides.forEach(slide => {
		const img = slide.querySelector('img');
		img.addEventListener('click', (e) => handleClick(e, img.src));
	});

	// 触摸事件
	carousel.addEventListener('touchstart', (e) => {
		isDragging = true;
		startPos = e.touches[0].clientX;
		currentTranslate = prevTranslate;
		movedDistance = 0;
		lastPos = startPos;
		lastTime = Date.now();
		carouselInner.style.transition = 'none';
	});

	carousel.addEventListener('touchmove', (e) => {
		if (isDragging) {
			const currentPos = e.touches[0].clientX;
			const currentTime = Date.now();
			const diff = currentPos - startPos;
			movedDistance = Math.abs(diff); // 更新拖动距离
			currentTranslate = prevTranslate + diff;

			// 计算速度
			const timeDelta = currentTime - lastTime;
			if (timeDelta > 0) {
				velocity = (currentPos - lastPos) / timeDelta;
			}
			lastPos = currentPos;
			lastTime = currentTime;

			// 边界弹性
			const slideWidth = carousel.clientWidth;
			const maxTranslate = 0;
			const minTranslate = -slideWidth * (totalSlides - 1);
			if (currentTranslate > maxTranslate) {
				currentTranslate = maxTranslate + (currentTranslate - maxTranslate) * 0.3;
			} else if (currentTranslate < minTranslate) {
				currentTranslate = minTranslate + (currentTranslate - minTranslate) * 0.3;
			}

			setPosition();
		}
	});

	carousel.addEventListener('touchend', () => {
		isDragging = false;
		const slideWidth = carousel.clientWidth;
		const movedBy = currentTranslate - prevTranslate;

		// 根据速度和距离决定滑动
		const velocityThreshold = 0.5;
		const swipeThreshold = slideWidth / 4;
		if (Math.abs(velocity) > velocityThreshold || Math.abs(movedBy) > swipeThreshold) {
			if (velocity < 0 || movedBy < 0) {
				currentSlide++;
			} else {
				currentSlide--;
			}
		}
		moveToSlide(currentSlide);
	});

	// 鼠标事件
	carousel.addEventListener('mousedown', (e) => {
		isDragging = true;
		startPos = e.clientX;
		currentTranslate = prevTranslate;
		movedDistance = 0;
		lastPos = startPos;
		lastTime = Date.now();
		carousel.classList.add('grabbing');
		carouselInner.style.transition = 'none';
		e.preventDefault();
	});

	carousel.addEventListener('mousemove', (e) => {
		if (isDragging) {
			const currentPos = e.clientX;
			const currentTime = Date.now();
			const diff = currentPos - startPos;
			movedDistance = Math.abs(diff);
			currentTranslate = prevTranslate + diff;

			// 计算速度
			const timeDelta = currentTime - lastTime;
			if (timeDelta > 0) {
				velocity = (currentPos - lastPos) / timeDelta;
			}
			lastPos = currentPos;
			lastTime = currentTime;

			// 边界弹性
			const slideWidth = carousel.clientWidth;
			const maxTranslate = 0;
			const minTranslate = -slideWidth * (totalSlides - 1);
			if (currentTranslate > maxTranslate) {
				currentTranslate = maxTranslate + (currentTranslate - maxTranslate) * 0.3;
			} else if (currentTranslate < minTranslate) {
				currentTranslate = minTranslate + (currentTranslate - minTranslate) * 0.3;
			}

			setPosition();
		}
	});

	carousel.addEventListener('mouseup', () => {
		isDragging = false;
		carousel.classList.remove('grabbing');
		const slideWidth = carousel.clientWidth;
		const movedBy = currentTranslate - prevTranslate;

		// 根据速度和距离决定滑动
		const velocityThreshold = 0.5;
		const swipeThreshold = slideWidth / 4;
		if (Math.abs(velocity) > velocityThreshold || Math.abs(movedBy) > swipeThreshold) {
			if (velocity < 0 || movedBy < 0) {
				currentSlide++;
			} else {
				currentSlide--;
			}
		}
		moveToSlide(currentSlide);
	});

	carousel.addEventListener('mouseleave', () => {
		if (isDragging) {
			isDragging = false;
			carousel.classList.remove('grabbing');
			const slideWidth = carousel.clientWidth;
			const movedBy = currentTranslate - prevTranslate;
			const velocityThreshold = 0.5;
			const swipeThreshold = slideWidth / 4;
			if (Math.abs(velocity) > velocityThreshold || Math.abs(movedBy) > swipeThreshold) {
				if (velocity < 0 || movedBy < 0) {
					currentSlide++;
				} else {
					currentSlide--;
				}
			}
			moveToSlide(currentSlide);
		}
	});

	// 可选：自动播放，每5秒切换
	setInterval(() => {
		currentSlide = (currentSlide + 1) % totalSlides;
		moveToSlide(currentSlide);
	}, 5000);
</script>

</body>
</html>